webpackJsonp([3],{381:function(e,t,o){o(402);var a=o(147)(o(391),o(412),null,null);a.options.__file="D:\\SVN\\B06.svn管理面板V2.0\\09.软件开发\\01.web\\src\\views\\repositoryInfo\\index.vue",a.esModule&&Object.keys(a.esModule).some(function(e){return"default"!==e&&"__esModule"!==e})&&console.error("named exports are not supported in *.vue files."),a.options.functional&&console.error("[vue-loader] index.vue: functional components are not supported with templates, they should use render functions."),e.exports=a.exports},391:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={data:function(){return{token:sessionStorage.token,user_role_id:sessionStorage.user_role_id,treeRep:[],modalCreateRep:!1,modalViewRep:!1,modalRepDump:!1,modalRepPri:!1,modalRepHooks:!1,modalRepAdvance:!1,modalEditRepName:!1,modalRepAllUser:!1,modalRepAllGroup:!1,modalEditRepHook:!1,modalStudyRepHook:!1,modalRecommendHook:!1,modalSetUUID:!1,sortName:"rep_name",sortType:"asc",pageCurrentRep:1,pageSizeRep:20,totalRep:0,pageCurrentUserRep:1,pageSizeUserRep:10,totalUserRep:0,searchKeywordRep:"",noDataTextRepCon:"暂无数据",loadingRep:!0,loadingCreateRep:!1,loadingUserRep:!0,loadingRepCon:!0,loadingRepTree:!0,loadingRepPathUserPri:!0,loadingAddRepPathUserPri:!0,loadingDelRepPathUserPri:!1,loadingRepPathGroupPri:!0,loadingAddRepPathGroupPri:!0,loadingDelRepPathGroupPri:!1,loadingAllUserList:!0,loadingAllGroupList:!0,loadingRepDetail:!0,loadingRepBackupList:!0,loadingRepDump:!1,loadingUploadBackup:!1,loadingImportBackup:!1,loadingEditRepName:!1,loadingGetRepHooks:!0,loadingEditRepHook:!1,loadingSetUUID:!1,currentRepName:"",currentRepTreePath:"/",currentRepTreePriPath:"/",tempCheckout:"",radioRepUserPri:"",radioRepGroupPri:"",currentRepPriUser:"",currentRepPriUserIndex:-1,currentRepPriGroup:"",currentRepPriGroupIndex:-1,currentRepPriAddUser:"",currentRepPriAddGroup:"",tempSelectRepHook:"",tempSelectRepHookCon:"",tempSelectRepHookTmpl:"",tempSelectRepHookRecommend:"",tempRepUUID:"",titleModalViewRep:"",titleModalRepBackup:"",titleModalRepPri:"",titleModalRepHooks:"",titleModalEditRepName:"",titleModalRepAdvance:"",titleModalEditRepHook:"",titleModalStudyRepHook:"",uploadLimit:{file_uploads:!0,upload_max_filesize:0,post_max_size:0},formRepAdd:{rep_name:"",rep_note:"",rep_type:"1"},formRepEdit:{old_rep_name:"",new_rep_name:""},formRepImport:{},formRepHooks:{start_commit:{fileName:"",hasFile:!1,con:"",tmpl:""},pre_commit:{fileName:"",hasFile:!1,con:"",tmpl:""},post_commit:{fileName:"",hasFile:!1,con:"",tmpl:""},pre_lock:{fileName:"",hasFile:!1,con:"",tmpl:""},post_lock:{fileName:"",hasFile:!1,con:"",tmpl:""},pre_unlock:{fileName:"",hasFile:!1,con:"",tmpl:""},post_unlock:{fileName:"",hasFile:!1,con:"",tmpl:""},pre_revprop_change:{fileName:"",hasFile:!1,con:"",tmpl:""},post_revprop_change:{fileName:"",hasFile:!1,con:"",tmpl:""}},formStatusSubversion:{status:!0,info:""},checkInfo:{protocal:"",prefix:""},formUploadBackup:{selectType:"1",fileName:"",errorInfo:""},breadRepPath:[],recommendHooks:[],tableColumnRep:[{title:"序号",type:"index",fixed:"left",minWidth:80},{title:"仓库名",key:"rep_name",tooltip:!0,sortable:"custom",minWidth:120},{title:"版本数",key:"rep_rev",sortable:"custom",minWidth:90},{title:"体积",key:"rep_size",sortable:"custom",minWidth:120},{title:"备注信息",slot:"rep_note",minWidth:120},{title:"仓库内容",slot:"repScan",minWidth:120},{title:"仓库备份",slot:"repBackup",minWidth:120},{title:"仓库权限",slot:"repPri",minWidth:120},{title:"仓库钩子",slot:"repHooks",width:120},{title:"其它",slot:"action",width:180}],tableDataRep:[],tableColumnUserRep:[{title:"序号",type:"index",fixed:"left",minWidth:80},{title:"仓库名",key:"rep_name",tooltip:!0,sortable:"custom",minWidth:120},{title:"路径/文件",tooltip:!0,key:"pri_path",minWidth:120},{title:"权限",key:"rep_pri",minWidth:120},{title:"其它",slot:"action",width:180}],tableDataUserRep:[],tableColumnRepCon:[{title:"类型",slot:"resourceType",width:60},{title:"文件",key:"resourceName",tooltip:!0},{title:"体积",key:"fileSize",tooltip:!0},{title:"作者",key:"revAuthor",tooltip:!0},{title:"版本",key:"revNum",tooltip:!0},{title:"日期",key:"revTime",tooltip:!0,width:350},{title:"日志",key:"revLog",tooltip:!0}],tableDataRepCon:[],tableColumnBackup1:[{title:"文件名",key:"fileName",tooltip:!0},{title:"文件大小",key:"fileSize",tooltip:!0},{title:"修改时间",key:"fileEditTime",tooltip:!0}],tableColumnBackup2:[{title:"文件名",key:"fileName",tooltip:!0},{title:"大小",key:"fileSize",tooltip:!0},{title:"修改时间",key:"fileEditTime",tooltip:!0},{title:"其它",slot:"action",width:130}],tableDataBackup:[],tableColumnRepPathUserPri:[{title:"用户名",key:"userName"},{title:"权限",key:"userPri"}],tableDataRepPathUserPri:[],tableColumnRepPathGroupPri:[{title:"分组名",key:"groupName"},{title:"权限",key:"groupPri"}],tableDataRepPathGroupPri:[],tableColumnRepDetail:[{title:"属性",key:"repKey",tooltip:!0,fixed:"left",width:170},{title:"信息",key:"repValue",tooltip:!0,width:170},{title:"复制",slot:"copy",width:60},{title:"重设",slot:"uuid"}],tableDataRepDetail:[],tableColumnAllUser:[{title:"用户名",key:"userName"},{title:"启用状态",slot:"disabled"}],tableDataAllUser:[],tableColumnAllGroup:[{title:"分组名",key:"groupName"}],tableDataAllGroup:[]}},computed:{},created:function(){},mounted:function(){this.GetStatus(),1==this.user_role_id?this.GetRepList():2==this.user_role_id&&this.GetSvnUserRepList()},methods:{GetStatus:function(){var e=this,t={};e.$axios.post("/api.php?c=Svn&a=GetStatus&t=web",t).then(function(t){var o=t.data;1==o.status||(e.formStatusSubversion.status=!1,e.formStatusSubversion.info=o.message)}).catch(function(t){console.log(t),e.$Message.error("出错了 请联系管理员！")})},ModalCreateRep:function(){this.modalCreateRep=!0},CreateRep:function(){var e=this;e.loadingCreateRep=!0;var t={rep_name:e.formRepAdd.rep_name,rep_note:e.formRepAdd.rep_note,rep_type:e.formRepAdd.rep_type};e.$axios.post("/api.php?c=Svnrep&a=CreateRep&t=web",t).then(function(t){e.loadingCreateRep=!1,e.modalCreateRep=!1;var o=t.data;1==o.status?(e.$Message.success(o.message),e.GetRepList()):e.$Message.error(o.message)}).catch(function(t){e.loadingCreateRep=!1,console.log(t),e.$Message.error("出错了 请联系管理员！")})},SearchGetRepList:function(){this.GetRepList()},GetRepList:function(){var e=this;e.loadingRep=!0,e.tableDataRep=[];var t={pageSize:e.pageSizeRep,currentPage:e.pageCurrentRep,searchKeyword:e.searchKeywordRep,sortName:e.sortName,sortType:e.sortType};e.$axios.post("/api.php?c=Svnrep&a=GetRepList&t=web",t).then(function(t){e.loadingRep=!1;var o=t.data;1==o.status?(e.tableDataRep=o.data.data,e.totalRep=o.data.total):e.$Message.error(o.message)}).catch(function(t){e.loadingRep=!1,console.log(t),e.$Message.error("出错了 请联系管理员！")})},PageChangeRep:function(e){this.pageCurrentRep=e,this.GetRepList()},PageSizeChangeRep:function(e){this.pageSizeRep=e,this.GetRepList()},SortChangeRep:function(e){this.sortName=e.key,"desc"!=e.order&&"asc"!=e.order||(this.sortType=e.order),this.GetRepList()},GetSvnUserRepList:function(){var e=this;e.loadingUserRep=!0,e.tableDataUserRep=[],e.totalUserRep=0;var t={pageSize:e.pageSizeUserRep,currentPage:e.pageCurrentUserRep,searchKeyword:e.searchKeywordRep,sortType:e.sortType};e.$axios.post("/api.php?c=Svnrep&a=GetSvnUserRepList&t=web",t).then(function(t){e.loadingUserRep=!1;var o=t.data;1==o.status?(e.tableDataUserRep=o.data.data,e.totalUserRep=o.data.total):e.$Message.error(o.message)}).catch(function(t){e.loadingUserRep=!1,console.log(t),e.$Message.error("出错了 请联系管理员！")})},PageChangeUserRep:function(e){this.pageCurrentUserRep=e,this.GetSvnUserRepList()},PageSizeChangeUserRep:function(e){this.pageSizeUserRep=e,this.GetSvnUserRepList()},SortChangeUserRep:function(e){this.sortName=e.key,"desc"!=e.order&&"asc"!=e.order||(this.sortType=e.order),this.GetSvnUserRepList()},EditRepNote:function(e,t){var o=this,a={rep_name:t,rep_note:o.tableDataRep[e].rep_note};o.$axios.post("/api.php?c=Svnrep&a=EditRepNote&t=web",a).then(function(e){var t=e.data;1==t.status?o.$Message.success(t.message):o.$Message.error(t.message)}).catch(function(e){console.log(e),o.$Message.error("出错了 请联系管理员！")})},ModalViewRep:function(e){var t=this;t.noDataTextRepCon="暂无数据",t.currentRepTreePath="/",t.currentRepName=e,t.titleModalViewRep="仓库内容 - "+e,t.modalViewRep=!0,t.GetCheckout().then(function(e){t.GetRepCon()})},ModalViewUserRep:function(e,t){var o=this;o.noDataTextRepCon="暂无数据",o.currentRepTreePath=t,o.currentRepName=e,o.titleModalViewRep="仓库内容 - "+e,o.modalViewRep=!0,o.GetCheckout().then(function(e){1==o.formStatusSubversion.status?o.GetUserRepCon():(o.loadingRepCon=!1,o.noDataTextRepCon="由于svnserve服务未启动，SVN用户只能复制检出地址而不能进行仓库内容浏览",o.tempCheckout=o.checkInfo.protocal+o.checkInfo.prefix+"/"+o.currentRepName+o.currentRepTreePath)})},GetCheckout:function(){var e=this;e.tempCheckout="",e.tableDataRepCon=[],e.breadRepPath=[],e.loadingRepCon=!0;var t={};return new Promise(function(o,a){e.$axios.post("/api.php?c=Svn&a=GetCheckout&t=web",t).then(function(t){var a=t.data;1==a.status?e.checkInfo=a.data:(e.loadingRepCon=!1,e.$Message.error(a.message)),o(t)}).catch(function(t){console.log(t),e.$Message.error("出错了 请联系管理员！"),a(t)})})},GetRepCon:function(){var e=this;e.loadingRepCon=!0;var t={rep_name:e.currentRepName,path:e.currentRepTreePath};e.$axios.post("/api.php?c=Svnrep&a=GetRepCon&t=web",t).then(function(t){e.loadingRepCon=!1;var o=t.data;1==o.status?(e.tableDataRepCon=o.data.data,e.breadRepPath=o.data.bread,e.tempCheckout=e.checkInfo.protocal+e.checkInfo.prefix+"/"+e.currentRepName+e.currentRepTreePath):e.$Message.error(o.message)}).catch(function(t){e.loadingRepCon=!1,console.log(t),e.$Message.error("出错了 请联系管理员！")})},GetUserRepCon:function(){var e=this;e.loadingRepCon=!0;var t={rep_name:e.currentRepName,path:e.currentRepTreePath};e.$axios.post("/api.php?c=Svnrep&a=GetUserRepCon&t=web",t).then(function(t){e.loadingRepCon=!1;var o=t.data;1==o.status?(e.tableDataRepCon=o.data.data,e.breadRepPath=o.data.bread,e.tempCheckout=e.checkInfo.protocal+e.checkInfo.prefix+"/"+e.currentRepName+e.currentRepTreePath):e.$Message.error(o.message)}).catch(function(t){e.loadingRepCon=!1,console.log(t),e.$Message.error("出错了 请联系管理员！")})},ClickRowGetRepCon:function(e,t){"2"==this.tableDataRepCon[t].resourceType&&(this.currentRepTreePath=this.tableDataRepCon[t].fullPath,1==this.user_role_id?this.GetRepCon():2==this.user_role_id&&this.GetUserRepCon())},ClickBreadGetRepCon:function(e){this.currentRepTreePath=e,1==this.user_role_id?this.GetRepCon():2==this.user_role_id&&this.GetUserRepCon()},CopyCheckout:function(){var e=this;e.$copyText(e.tempCheckout).then(function(t){e.$Message.success("复制成功")},function(t){e.$Message.error("复制失败，请手动复制")})},ModalRepDump:function(e){this.titleModalRepBackup="仓库备份 - "+e,this.modalRepDump=!0,this.currentRepName=e,this.GetBackupList()},GetBackupList:function(){var e=this;e.loadingRepBackupList=!0,e.tableDataBackup=[];var t={};e.$axios.post("/api.php?c=Svnrep&a=GetBackupList&t=web",t).then(function(t){e.loadingRepBackupList=!1;var o=t.data;1==o.status?e.tableDataBackup=o.data:e.$Message.error(o.message)}).catch(function(t){e.loadingRepBackupList=!1,console.log(t),e.$Message.error("出错了 请联系管理员！")})},RepDump:function(){var e=this;e.loadingRepDump=!0;var t={rep_name:e.currentRepName};e.$axios.post("/api.php?c=Svnrep&a=RepDump&t=web",t).then(function(t){e.loadingRepDump=!1;var o=t.data;1==o.status?(e.$Message.success(o.message),e.GetBackupList()):e.$Message.error(o.message)}).catch(function(t){e.loadingRepDump=!1,console.log(t),e.$Message.error("出错了 请联系管理员！")})},DownloadRepBackup:function(e){window.open(e,"_blank")},DelRepBackup:function(e){var t=this;t.$Modal.confirm({title:"删除文件",content:"确定要删除该文件吗？<br/>该操作不可逆！",onOk:function(){var o={fileName:e};t.$axios.post("/api.php?c=Svnrep&a=DelRepBackup&t=web",o).then(function(e){var o=e.data;1==o.status?(t.$Message.success(o.message),t.GetBackupList()):t.$Message.error(o.message)}).catch(function(e){console.log(e),t.$Message.error("出错了 请联系管理员！")})}})},ModalRepPri:function(e){var t=this;t.currentRepTreePath="/",t.currentRepTreePriPath="/",t.currentRepName=e,t.titleModalRepPri="仓库权限 - "+e,t.modalRepPri=!0,t.loadingRepTree=!0,t.treeRep=[],t.GetRepTree().then(function(e){t.loadingRepTree=!1;var o=e.data;1==o.status?t.treeRep=o.data:t.$Message.error(o.message)}),t.GetRepPathUserPri(),t.GetRepPathGroupPri()},GetRepTree:function(){var e=this,t={rep_name:e.currentRepName,path:e.currentRepTreePath};return new Promise(function(o,a){e.$axios.post("/api.php?c=Svnrep&a=GetRepTree&t=web",t).then(function(e){o(e)}).catch(function(t){console.log(t),e.$Message.error("出错了 请联系管理员！"),a(t)})})},RenderContent:function(e,t){var o=(t.root,t.node,t.data);return e("span",[e("Icon",{props:{type:"1"==o.resourceType?"ios-document-outline":"ios-folder-open"},style:{marginRight:"8px"}}),e("span",o.title)])},ChangeSelectTreeNode:function(e,t){this.currentRepTreePriPath=t.fullPath,this.GetRepPathUserPri(),this.GetRepPathGroupPri()},LoadingRepTree:function(e,t){var o=this,a=[];o.currentRepTreePath=e.fullPath,o.GetRepTree().then(function(e){var r=e.data;1==r.status?(a=r.data,a.length>0?"/"!=a[0].fullPath?t(a):(t([]),o.treeRep=[{resourceType:2,title:o.currentRepName+"/",fullPath:"/"}]):t([])):(o.$Message.error(r.message),t(a))})},GetRepPathUserPri:function(){var e=this;e.tableDataRepPathUserPri=[],e.currentRepPriUser="",e.currentRepPriUserIndex=-1,e.loadingRepPathUserPri=!0;var t={rep_name:e.currentRepName,path:e.currentRepTreePriPath};e.$axios.post("/api.php?c=Svnrep&a=GetRepPathUserPri&t=web",t).then(function(t){e.loadingRepPathUserPri=!1;var o=t.data;1==o.status?e.tableDataRepPathUserPri=o.data:e.$Message.error(o.message)}).catch(function(t){e.loadingRepPathUserPri=!1,console.log(t),e.$Message.error("出错了 请联系管理员！")})},ChangeSelectRepUserPri:function(e,t){this.currentRepPriUser=e.userName,this.currentRepPriUserIndex=e.index,this.radioRepUserPri=e.userPri},ChangeRadioRepUserPri:function(e){""==this.currentRepPriUser?this.$Message.error("未选择用户"):(this.tableDataRepPathUserPri[this.currentRepPriUserIndex].userPri=e,this.EditRepPathUserPri())},DelRepPathUserPri:function(){var e=this;if(""==e.currentRepPriUser)return void e.$Message.error("未选择用户");e.loadingDelRepPathUserPri=!0;var t={rep_name:e.currentRepName,path:e.currentRepTreePriPath,user:e.currentRepPriUser};e.$axios.post("/api.php?c=Svnrep&a=DelRepPathUserPri&t=web",t).then(function(t){e.loadingDelRepPathUserPri=!1;var o=t.data;1==o.status?(e.$Message.success(o.message),e.GetRepPathUserPri()):e.$Message.error(o.message)}).catch(function(t){e.loadingDelRepPathUserPri=!1,console.log(t),e.$Message.error("出错了 请联系管理员！")})},EditRepPathUserPri:function(){var e=this;if(""==e.currentRepPriUser)return void e.$Message.error("未选择用户");var t={rep_name:e.currentRepName,path:e.currentRepTreePriPath,pri:e.tableDataRepPathUserPri[e.currentRepPriUserIndex].userPri,user:e.tableDataRepPathUserPri[e.currentRepPriUserIndex].userName};e.$axios.post("/api.php?c=Svnrep&a=EditRepPathUserPri&t=web",t).then(function(t){var o=t.data;1==o.status?(e.$Message.success(o.message),e.GetRepPathUserPri()):e.$Message.error(o.message)}).catch(function(t){console.log(t),e.$Message.error("出错了 请联系管理员！")})},AddRepPathUserPri:function(){var e=this,t={rep_name:e.currentRepName,path:e.currentRepTreePriPath,pri:"rw",user:e.currentRepPriAddUser};e.$axios.post("/api.php?c=Svnrep&a=AddRepPathUserPri&t=web",t).then(function(t){e.modalRepAllUser=!1;var o=t.data;1==o.status?(e.$Message.success(o.message),e.GetRepPathUserPri()):e.$Message.error(o.message)}).catch(function(t){e.modalRepAllUser=!1,console.log(t),e.$Message.error("出错了 请联系管理员！")})},ModalRepAllUser:function(){this.modalRepAllUser=!0,this.GetAllUserList()},GetAllUserList:function(){var e=this;e.tableDataAllUser=[],e.loadingAllUserList=!0;var t={};e.$axios.post("/api.php?c=Svnuser&a=GetAllUserList&t=web",t).then(function(t){e.loadingAllUserList=!1;var o=t.data;1==o.status?e.tableDataAllUser=o.data:e.$Message.error(o.message)}).catch(function(t){e.loadingAllUserList=!1,console.log(t),e.$Message.error("出错了 请联系管理员！")})},ClickRowAddRepPathUser:function(e,t){this.currentRepPriAddUser=e.userName},GetRepPathGroupPri:function(){var e=this;e.tableDataRepPathGroupPri=[],e.currentRepPriGroup="",e.currentRepPriGroupIndex=-1,e.loadingRepPathGroupPri=!0;var t={rep_name:e.currentRepName,path:e.currentRepTreePriPath};e.$axios.post("/api.php?c=Svnrep&a=GetRepPathGroupPri&t=web",t).then(function(t){e.loadingRepPathGroupPri=!1;var o=t.data;1==o.status?e.tableDataRepPathGroupPri=o.data:e.$Message.error(o.message)}).catch(function(t){e.loadingRepPathGroupPri=!1,console.log(t),e.$Message.error("出错了 请联系管理员！")})},ChangeSelectRepGroupPri:function(e,t){this.currentRepPriGroup=e.groupName,this.currentRepPriGroupIndex=e.index,""==e.groupPri?this.radioRepGroupPri="no":this.radioRepGroupPri=e.groupPri},ChangeRadioRepGroupPri:function(e){""==this.currentRepPriGroup?this.$Message.error("未选择分组"):(this.tableDataRepPathGroupPri[this.currentRepPriGroupIndex].groupPri=e,this.EditRepPathGroupPri())},DelRepPathGroupPri:function(){var e=this;if(""==e.currentRepPriGroup)return void e.$Message.error("未选择分组");e.loadingDelRepPathGroupPri=!0;var t={rep_name:e.currentRepName,path:e.currentRepTreePriPath,group:e.currentRepPriGroup};e.$axios.post("/api.php?c=Svnrep&a=DelRepPathGroupPri&t=web",t).then(function(t){e.loadingDelRepPathGroupPri=!1;var o=t.data;1==o.status?(e.$Message.success(o.message),e.GetRepPathGroupPri()):e.$Message.error(o.message)}).catch(function(t){e.loadingDelRepPathGroupPri=!1,console.log(t),e.$Message.error("出错了 请联系管理员！")})},EditRepPathGroupPri:function(){var e=this;if(""==e.currentRepPriGroup)return void e.$Message.error("未选择分组");var t={rep_name:e.currentRepName,path:e.currentRepTreePriPath,pri:e.tableDataRepPathGroupPri[e.currentRepPriGroupIndex].groupPri,group:e.tableDataRepPathGroupPri[e.currentRepPriGroupIndex].groupName};e.$axios.post("/api.php?c=Svnrep&a=EditRepPathGroupPri&t=web",t).then(function(t){var o=t.data;1==o.status?(e.$Message.success(o.message),e.GetRepPathGroupPri()):e.$Message.error(o.message)}).catch(function(t){console.log(t),e.$Message.error("出错了 请联系管理员！")})},AddRepPathGroupPri:function(){var e=this,t={rep_name:e.currentRepName,path:e.currentRepTreePriPath,pri:"rw",group:e.currentRepPriAddGroup};e.$axios.post("/api.php?c=Svnrep&a=AddRepPathGroupPri&t=web",t).then(function(t){e.modalRepAllGroup=!1;var o=t.data;1==o.status?(e.$Message.success(o.message),e.GetRepPathGroupPri()):e.$Message.error(o.message)}).catch(function(t){e.modalRepAllGroup=!1,console.log(t),e.$Message.error("出错了 请联系管理员！")})},ModalRepAllGroup:function(){this.modalRepAllGroup=!0,this.GetAllGroupList()},GetAllGroupList:function(){var e=this;e.tableDataAllGroup=[],e.loadingAllGroupList=!0;var t={};e.$axios.post("/api.php?c=Svngroup&a=GetAllGroupList&t=web",t).then(function(t){e.loadingAllGroupList=!1;var o=t.data;1==o.status?e.tableDataAllGroup=o.data:e.$Message.error(o.message)}).catch(function(t){e.loadingAllGroupList=!1,console.log(t),e.$Message.error("出错了 请联系管理员！")})},ClickRowAddRepPathGroup:function(e,t){this.currentRepPriAddGroup=e.groupName},ModalRepHooks:function(e){this.titleModalRepHooks="仓库钩子 - "+e,this.modalRepHooks=!0,this.currentRepName=e,this.GetRepHooks(),this.GetRecommendHooks()},GetRepHooks:function(){var e=this;e.loadingGetRepHooks=!0;var t={rep_name:e.currentRepName};e.$axios.post("/api.php?c=Svnrep&a=GetRepHooks&t=web",t).then(function(t){e.loadingGetRepHooks=!1;var o=t.data;1==o.status?e.formRepHooks=o.data:e.$Message.error(o.message)}).catch(function(t){e.loadingGetRepHooks=!1,console.log(t),e.$Message.error("出错了 请联系管理员！")})},GetRecommendHooks:function(){var e=this,t={};e.$axios.post("/api.php?c=Svnrep&a=GetRecommendHooks&t=web",t).then(function(t){var o=t.data;1==o.status?e.recommendHooks=o.data:e.$Message.error(o.message)}).catch(function(t){console.log(t),e.$Message.error("出错了 请联系管理员！")})},DelRepHook:function(e){var t=this;t.loadingGetRepHooks=!0;var o={rep_name:t.currentRepName,fileName:e};t.$axios.post("/api.php?c=Svnrep&a=DelRepHook&t=web",o).then(function(e){var o=e.data;1==o.status?(t.$Message.success(o.message),t.GetRepHooks()):(t.loadingGetRepHooks=!1,t.$Message.error(o.message))}).catch(function(e){t.loadingGetRepHooks=!1,console.log(e),t.$Message.error("出错了 请联系管理员！")})},ModalStudyRepHook:function(e){this.tempSelectRepHook=this.formRepHooks[e].fileName,this.tempSelectRepHookTmpl=this.formRepHooks[e].tmpl,this.titleModalStudyRepHook="钩子信息介绍 - "+this.formRepHooks[e].fileName,this.modalStudyRepHook=!0},ModalEditRepHook:function(e){this.tempSelectRepHook=this.formRepHooks[e].fileName,this.tempSelectRepHookCon=this.formRepHooks[e].con,this.titleModalEditRepHook="钩子文件编辑 - "+this.formRepHooks[e].fileName,this.modalEditRepHook=!0},ViewRecommendHook:function(e){var t=this.recommendHooks.filter(function(t){return t.hookName=e});this.tempSelectRepHookRecommend=t[0].hookContent,this.modalRecommendHook=!0},EditRepHook:function(){var e=this;e.loadingEditRepHook=!0;var t={rep_name:e.currentRepName,fileName:e.tempSelectRepHook,content:e.tempSelectRepHookCon};e.$axios.post("/api.php?c=Svnrep&a=EditRepHook&t=web",t).then(function(t){e.loadingEditRepHook=!1;var o=t.data;1==o.status?(e.modalEditRepHook=!1,e.$Message.success(o.message),e.GetRepHooks()):e.$Message.error(o.message)}).catch(function(t){e.loadingEditRepHook=!1,console.log(t),e.$Message.error("出错了 请联系管理员！")})},ModalRepAdvance:function(e){this.currentRepName=e,this.titleModalRepAdvance="高级 - "+e,this.formUploadBackup.selectType="1",this.formUploadBackup.fileName="",this.formUploadBackup.errorInfo="",this.modalRepAdvance=!0,this.GetRepDetail(),this.GetUploadSize()},GetRepDetail:function(){var e=this;e.loadingRepDetail=!0;var t={rep_name:e.currentRepName};e.$axios.post("/api.php?c=Svnrep&a=GetRepDetail&t=web",t).then(function(t){e.loadingRepDetail=!1;var o=t.data;1==o.status?e.tableDataRepDetail=o.data:e.$Message.error(o.message)}).catch(function(t){e.loadingRepDetail=!1,console.log(t),e.$Message.error("出错了 请联系管理员！")})},CopyRepDetail:function(e){var t=this,o=t.tableDataRepDetail[e].repKey+":"+t.tableDataRepDetail[e].repValue;t.$copyText(o).then(function(e){t.$Message.success("复制成功")},function(e){t.$Message.error("复制失败，请手动复制")})},ModalSetUUID:function(){this.tempRepUUID="",this.modalSetUUID=!0},SetUUID:function(){var e=this;e.loadingSetUUID=!0;var t={rep_name:e.currentRepName,uuid:e.tempRepUUID};e.$axios.post("/api.php?c=Svnrep&a=SetUUID&t=web",t).then(function(t){e.loadingSetUUID=!1;var o=t.data;1==o.status?(e.$Message.success(o.message),e.GetRepDetail(),e.modalSetUUID=!1):e.$Message.error(o.message)}).catch(function(t){e.loadingSetUUID=!1,console.log(t),e.$Message.error("出错了 请联系管理员！")})},ChangeRadioUploadType:function(e){this.formUploadBackup.selectType=e,"1"==e?this.GetUploadSize():"2"==e&&this.GetBackupList()},GetUploadSize:function(){var e=this,t={};e.$axios.post("/api.php?c=Svnrep&a=GetUploadLimit&t=web",t).then(function(t){var o=t.data;1==o.status?e.uploadLimit=o.data:e.$Message.error(o.message)}).catch(function(t){console.log(t),e.$Message.error("出错了 请联系管理员！")})},BeforeUpload:function(){return this.loadingUploadBackup=!0,!0},UploadSuccess:function(e,t,o){this.loadingUploadBackup=!1;var a=e;1==a.status?this.$Message.success(a.message):this.$Message.error(a.message)},ClickRowUploadBackup:function(e,t){this.formUploadBackup.fileName=e.fileName},ImportRep:function(){var e=this;if(""==e.formUploadBackup.fileName)return void e.$Message.error("请先选择文件");e.loadingImportBackup=!0;var t={rep_name:e.currentRepName,fileName:e.formUploadBackup.fileName};e.$axios.post("/api.php?c=Svnrep&a=ImportRep&t=web",t).then(function(t){e.loadingImportBackup=!1;var o=t.data;1==o.status?(e.$Message.success(o.message),e.formUploadBackup.errorInfo=o.data):(e.$Message.error(o.message),e.formUploadBackup.errorInfo=o.data)}).catch(function(t){e.loadingImportBackup=!1,console.log(t),e.$Message.error("出错了 请联系管理员！")})},ModalEditRepName:function(e){this.formRepEdit.old_rep_name=JSON.parse(JSON.stringify(e)),this.formRepEdit.new_rep_name=JSON.parse(JSON.stringify(e)),this.titleModalEditRepName="修改仓库名称 - "+e,this.modalEditRepName=!0},EditRepName:function(){var e=this;e.loadingEditRepName=!0;var t={old_rep_name:e.formRepEdit.old_rep_name,new_rep_name:e.formRepEdit.new_rep_name};e.$axios.post("/api.php?c=Svnrep&a=EditRepName&t=web",t).then(function(t){e.loadingEditRepName=!1;var o=t.data;1==o.status?(e.$Message.success(o.message),e.modalEditRepName=!1,e.GetRepList()):e.$Message.error(o.message)}).catch(function(t){e.loadingEditRepName=!1,console.log(t),e.$Message.error("出错了 请联系管理员！")})},DelRep:function(e){var t=this;t.$Modal.confirm({title:"删除仓库 - "+e,content:"确定要删除该仓库吗？<br/>该操作不可逆！<br/>如果该仓库有正在进行的网络传输，可能会删除失败，请注意提示信息！",onOk:function(){var o={rep_name:e};t.$axios.post("/api.php?c=Svnrep&a=DelRep&t=web",o).then(function(e){var o=e.data;1==o.status?(t.$Message.success(o.message),t.GetRepList()):t.$Message.error(o.message)}).catch(function(e){console.log(e),t.$Message.error("出错了 请联系管理员！")})}})}}}},402:function(e,t){},412:function(e,t,o){e.exports={render:function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",[o("Card",{attrs:{bordered:!1,"dis-hover":!0}},[0==e.formStatusSubversion.status?o("Alert",{attrs:{type:"error","show-icon":""}},[e._v(e._s(e.formStatusSubversion.info))]):e._e(),e._v(" "),o("Row",{staticStyle:{"margin-bottom":"15px"}},[o("Col",{attrs:{type:"flex",justify:"space-between",xs:21,sm:20,md:19,lg:18}},[1==e.user_role_id?o("Button",{attrs:{icon:"md-add",type:"primary",ghost:""},on:{click:e.ModalCreateRep}},[e._v("新建SVN仓库")]):e._e()],1),e._v(" "),o("Col",{attrs:{xs:3,sm:4,md:5,lg:6}},[1==e.user_role_id?o("Input",{attrs:{search:"","enter-button":"",placeholder:"通过SVN仓库名、备注搜索..."},on:{"on-search":e.SearchGetRepList},model:{value:e.searchKeywordRep,callback:function(t){e.searchKeywordRep=t},expression:"searchKeywordRep"}}):e._e(),e._v(" "),2==e.user_role_id?o("Input",{attrs:{search:"","enter-button":"",placeholder:"通过SVN仓库名搜索..."},on:{"on-search":e.GetSvnUserRepList},model:{value:e.searchKeywordRep,callback:function(t){e.searchKeywordRep=t},expression:"searchKeywordRep"}}):e._e()],1)],1),e._v(" "),1==e.user_role_id?o("Table",{attrs:{border:"",loading:e.loadingRep,columns:e.tableColumnRep,data:e.tableDataRep,size:"small"},on:{"on-sort-change":e.SortChangeRep},scopedSlots:e._u([{key:"rep_note",fn:function(t){var a=t.row,r=t.index;return[o("Input",{attrs:{border:!1},on:{"on-blur":function(t){e.EditRepNote(r,a.rep_name)}},model:{value:e.tableDataRep[r].rep_note,callback:function(t){e.$set(e.tableDataRep[r],"rep_note",t)},expression:"tableDataRep[index].rep_note"}})]}},{key:"repScan",fn:function(t){var a=t.row;return[o("Button",{attrs:{type:"info",size:"small"},on:{click:function(t){e.ModalViewRep(a.rep_name)}}},[e._v("浏览")])]}},{key:"repBackup",fn:function(t){var a=t.row;return[o("Button",{attrs:{type:"info",size:"small"},on:{click:function(t){e.ModalRepDump(a.rep_name)}}},[e._v("管理")])]}},{key:"repPri",fn:function(t){var a=t.row;return[o("Button",{attrs:{type:"info",size:"small"},on:{click:function(t){e.ModalRepPri(a.rep_name)}}},[e._v("配置")])]}},{key:"repHooks",fn:function(t){var a=t.row;return[o("Button",{attrs:{type:"info",size:"small"},on:{click:function(t){e.ModalRepHooks(a.rep_name)}}},[e._v("编辑")])]}},{key:"action",fn:function(t){var a=t.row;return[o("Button",{attrs:{type:"success",size:"small"},on:{click:function(t){e.ModalRepAdvance(a.rep_name)}}},[e._v("高级")]),e._v(" "),o("Button",{attrs:{type:"warning",size:"small"},on:{click:function(t){e.ModalEditRepName(a.rep_name)}}},[e._v("修改")]),e._v(" "),o("Button",{attrs:{type:"error",size:"small"},on:{click:function(t){e.DelRep(a.rep_name)}}},[e._v("删除")])]}}])}):e._e(),e._v(" "),2==e.user_role_id?o("Table",{attrs:{border:"",loading:e.loadingUserRep,columns:e.tableColumnUserRep,data:e.tableDataUserRep,size:"small"},on:{"on-sort-change":e.SortChangeUserRep},scopedSlots:e._u([{key:"action",fn:function(t){var a=t.row;return[o("Button",{attrs:{type:"info",size:"small"},on:{click:function(t){e.ModalViewUserRep(a.rep_name,a.pri_path)}}},[e._v("浏览")])]}}])}):e._e(),e._v(" "),1==e.user_role_id?o("Card",{attrs:{bordered:!1,"dis-hover":!0}},[0!=e.totalRep?o("Page",{attrs:{total:e.totalRep,current:e.pageCurrentRep,"page-size":e.pageSizeRep,size:"small","show-sizer":""},on:{"on-page-size-change":e.PageSizeChangeRep,"on-change":e.PageChangeRep}}):e._e()],1):e._e(),e._v(" "),2==e.user_role_id?o("Card",{attrs:{bordered:!1,"dis-hover":!0}},[0!=e.totalUserRep?o("Page",{attrs:{total:e.totalUserRep,current:e.pageCurrentUserRep,"page-size":e.pageSizeUserRep,size:"small","show-sizer":""},on:{"on-page-size-change":e.PageSizeChangeUserRep,"on-change":e.PageChangeUserRep}}):e._e()],1):e._e()],1),e._v(" "),o("Modal",{attrs:{title:"新建SVN仓库"},model:{value:e.modalCreateRep,callback:function(t){e.modalCreateRep=t},expression:"modalCreateRep"}},[o("Form",{attrs:{model:e.formRepAdd,"label-width":80}},[o("FormItem",{attrs:{label:"仓库名称"}},[o("Input",{model:{value:e.formRepAdd.rep_name,callback:function(t){e.$set(e.formRepAdd,"rep_name",t)},expression:"formRepAdd.rep_name"}})],1),e._v(" "),o("FormItem",[o("Alert",{attrs:{type:"warning","show-icon":""}},[e._v("仓库名称只能包含中文、字母、数字、破折号、下划线、点，不能以点开头或结尾")])],1),e._v(" "),o("FormItem",{attrs:{label:"备注信息"}},[o("Input",{model:{value:e.formRepAdd.rep_note,callback:function(t){e.$set(e.formRepAdd,"rep_note",t)},expression:"formRepAdd.rep_note"}})],1),e._v(" "),o("FormItem",{attrs:{label:"仓库类型"}},[o("RadioGroup",{attrs:{vertical:""},model:{value:e.formRepAdd.rep_type,callback:function(t){e.$set(e.formRepAdd,"rep_type",t)},expression:"formRepAdd.rep_type"}},[o("Radio",{attrs:{label:"1"}},[o("Icon",{attrs:{type:"social-apple"}}),e._v(" "),o("span",[e._v("空仓库")])],1),e._v(" "),o("Radio",{attrs:{label:"2"}},[o("Icon",{attrs:{type:"social-android"}}),e._v(" "),o("span",[e._v('指定结构的仓库(包含 "trunk" "branches" "tags" 文件夹)')])],1)],1)],1),e._v(" "),o("FormItem",[o("Button",{attrs:{type:"primary",loading:e.loadingCreateRep},on:{click:e.CreateRep}},[e._v("确定")])],1)],1),e._v(" "),o("div",{attrs:{slot:"footer"},slot:"footer"},[o("Button",{attrs:{type:"primary",ghost:""},on:{click:function(t){e.modalCreateRep=!1}}},[e._v("取消")])],1)],1),e._v(" "),o("Modal",{attrs:{fullscreen:"",title:e.titleModalViewRep},model:{value:e.modalViewRep,callback:function(t){e.modalViewRep=t},expression:"modalViewRep"}},[o("Row",{staticStyle:{"margin-bottom":"15px"}},[o("Col",{attrs:{span:"16"}},[o("Breadcrumb",e._l(e.breadRepPath.name,function(t,a){return o("BreadcrumbItem",{key:a,nativeOn:{click:function(t){e.ClickBreadGetRepCon(e.breadRepPath.path[a])}}},[e._v(e._s(t))])}))],1),e._v(" "),o("Col",{attrs:{span:"8"}},[o("Input",{attrs:{readonly:""},model:{value:e.tempCheckout,callback:function(t){e.tempCheckout=t},expression:"tempCheckout"}},[o("Button",{attrs:{slot:"append",icon:"md-copy"},on:{click:e.CopyCheckout},slot:"append"},[e._v("复制")])],1)],1)],1),e._v(" "),o("Card",{attrs:{bordered:!0,"dis-hover":!0}},[o("Table",{attrs:{height:"450","highlight-row":"","no-data-text":e.noDataTextRepCon,border:!1,loading:e.loadingRepCon,"show-header":!1,columns:e.tableColumnRepCon,data:e.tableDataRepCon},on:{"on-row-click":e.ClickRowGetRepCon},scopedSlots:e._u([{key:"resourceType",fn:function(t){var a=t.row;return[1==a.resourceType?o("Icon",{attrs:{size:"20",type:"ios-document-outline"}}):e._e(),e._v(" "),2==a.resourceType?o("Icon",{attrs:{size:"20",color:"#65a0d5",type:"ios-folder-open"}}):e._e()]}}])})],1),e._v(" "),o("div",{attrs:{slot:"footer"},slot:"footer"},[o("Button",{attrs:{type:"primary",ghost:""},on:{click:function(t){e.modalViewRep=!1}}},[e._v("取消")])],1)],1),e._v(" "),o("Modal",{attrs:{title:e.titleModalRepBackup},model:{value:e.modalRepDump,callback:function(t){e.modalRepDump=t},expression:"modalRepDump"}},[o("Row",{staticStyle:{"margin-bottom":"15px"}},[o("Col",{attrs:{span:"18"}},[o("Button",{attrs:{type:"primary",ghost:"",loading:e.loadingRepDump},on:{click:e.RepDump}},[e._v("备份(dump)")])],1)],1),e._v(" "),o("Table",{attrs:{height:"200",border:"",columns:e.tableColumnBackup2,data:e.tableDataBackup,size:"small",loading:e.loadingRepBackupList},scopedSlots:e._u([{key:"action",fn:function(t){var a=t.row;return[o("Button",{attrs:{type:"success",size:"small"},on:{click:function(t){e.DownloadRepBackup(a.fileUrl)}}},[e._v("下载")]),e._v(" "),o("Button",{attrs:{type:"error",size:"small"},on:{click:function(t){e.DelRepBackup(a.fileName)}}},[e._v("删除")])]}}])}),e._v(" "),o("div",{attrs:{slot:"footer"},slot:"footer"},[o("Button",{attrs:{type:"primary",ghost:""},on:{click:function(t){e.modalRepDump=!1}}},[e._v("取消")])],1)],1),e._v(" "),o("Modal",{attrs:{title:e.titleModalRepPri,fullscreen:""},model:{value:e.modalRepPri,callback:function(t){e.modalRepPri=t},expression:"modalRepPri"}},[o("Row",{attrs:{type:"flex",justify:"center",gutter:16}},[o("Col",{attrs:{span:"11"}},[o("Scroll",{attrs:{height:550}},[o("Tree",{attrs:{data:e.treeRep,"load-data":e.LoadingRepTree,render:e.RenderContent},on:{"on-select-change":e.ChangeSelectTreeNode}}),e._v(" "),e.loadingRepTree?o("Spin",{attrs:{size:"large",fix:""}}):e._e()],1)],1),e._v(" "),o("Col",{attrs:{span:"11"}},[o("Card",{staticStyle:{height:"550px"},attrs:{bordered:!0,"dis-hover":!0}},[o("Tabs",{attrs:{type:"card"}},[o("TabPane",{attrs:{label:"用户"}},[o("Form",{attrs:{"label-width":60}},[o("FormItem",{attrs:{label:"信息"}},[o("Table",{attrs:{"highlight-row":"",border:"",height:200,size:"small",columns:e.tableColumnRepPathUserPri,data:e.tableDataRepPathUserPri,loading:e.loadingRepPathUserPri},on:{"on-current-change":e.ChangeSelectRepUserPri}})],1),e._v(" "),o("FormItem",{attrs:{label:"操作"}},[o("ButtonGroup",[o("Button",{attrs:{icon:"ios-add"},on:{click:e.ModalRepAllUser}}),e._v(" "),o("Button",{attrs:{icon:"ios-remove",loading:e.loadingDelRepPathUserPri},on:{click:e.DelRepPathUserPri}})],1)],1),e._v(" "),o("FormItem",{attrs:{label:"权限"}},[o("RadioGroup",{attrs:{vertical:""},on:{"on-change":e.ChangeRadioRepUserPri},model:{value:e.radioRepUserPri,callback:function(t){e.radioRepUserPri=t},expression:"radioRepUserPri"}},[o("Radio",{attrs:{label:"no"}},[o("span",[e._v("无权限")])]),e._v(" "),o("Radio",{attrs:{label:"r"}},[o("span",[e._v("只读")])]),e._v(" "),o("Radio",{attrs:{label:"rw"}},[o("span",[e._v("读写")])])],1)],1)],1)],1),e._v(" "),o("TabPane",{attrs:{label:"分组"}},[o("Form",{attrs:{"label-width":60}},[o("FormItem",{attrs:{label:"信息"}},[o("Table",{attrs:{"highlight-row":"",border:"",height:200,size:"small",columns:e.tableColumnRepPathGroupPri,data:e.tableDataRepPathGroupPri,loading:e.loadingRepPathGroupPri},on:{"on-current-change":e.ChangeSelectRepGroupPri}})],1),e._v(" "),o("FormItem",{attrs:{label:"操作"}},[o("ButtonGroup",[o("Button",{attrs:{icon:"ios-add"},on:{click:e.ModalRepAllGroup}}),e._v(" "),o("Button",{attrs:{icon:"ios-remove",loading:e.loadingDelRepPathGroupPri},on:{click:e.DelRepPathGroupPri}})],1)],1),e._v(" "),o("FormItem",{attrs:{label:"权限"}},[o("RadioGroup",{attrs:{vertical:""},on:{"on-change":e.ChangeRadioRepGroupPri},model:{value:e.radioRepGroupPri,callback:function(t){e.radioRepGroupPri=t},expression:"radioRepGroupPri"}},[o("Radio",{attrs:{label:"no"}},[o("span",[e._v("无权限")])]),e._v(" "),o("Radio",{attrs:{label:"r"}},[o("span",[e._v("只读")])]),e._v(" "),o("Radio",{attrs:{label:"rw"}},[o("span",[e._v("读写")])])],1)],1)],1)],1)],1)],1)],1)],1),e._v(" "),o("div",{attrs:{slot:"footer"},slot:"footer"},[o("Button",{attrs:{type:"primary",ghost:""},on:{click:function(t){e.modalRepPri=!1}}},[e._v("取消")])],1)],1),e._v(" "),o("Modal",{attrs:{title:e.titleModalRepHooks,"class-name":"hooks"},model:{value:e.modalRepHooks,callback:function(t){e.modalRepHooks=t},expression:"modalRepHooks"}},[o("Tabs",{attrs:{type:"card"}},[o("TabPane",{attrs:{label:"仓库钩子"}},[o("Card",{staticClass:"my-modal",attrs:{bordered:!1,"dis-hover":!0}},[o("Scroll",[o("List",[o("Divider",{attrs:{orientation:"left",size:"small"}},[e._v("Commit")]),e._v(" "),o("ListItem",[e.formRepHooks.start_commit.hasFile?o("ListItemMeta",{attrs:{description:"Start-commit hook"}}):o("ListItemMeta",{attrs:{title:"Start-commit hook"}}),e._v(" "),o("template",{slot:"action"},[o("li",[o("span",{on:{click:function(t){e.ModalStudyRepHook("start_commit")}}},[e._v("介绍")])]),e._v(" "),o("li",[o("span",{on:{click:function(t){e.ModalEditRepHook("start_commit")}}},[e._v("编辑")])]),e._v(" "),o("li",[o("span",{on:{click:function(t){e.DelRepHook(e.formRepHooks.start_commit.fileName)}}},[e._v("移除")])])])],2),e._v(" "),o("ListItem",[e.formRepHooks.pre_commit.hasFile?o("ListItemMeta",{attrs:{description:"Pre-commit hook"}}):o("ListItemMeta",{attrs:{title:"Pre-commit hook"}}),e._v(" "),o("template",{slot:"action"},[o("li",[o("span",{on:{click:function(t){e.ModalStudyRepHook("pre_commit")}}},[e._v("介绍")])]),e._v(" "),o("li",[o("span",{on:{click:function(t){e.ModalEditRepHook("pre_commit")}}},[e._v("编辑")])]),e._v(" "),o("li",[o("span",{on:{click:function(t){e.DelRepHook(e.formRepHooks.pre_commit.fileName)}}},[e._v("移除")])])])],2),e._v(" "),o("ListItem",[e.formRepHooks.post_commit.hasFile?o("ListItemMeta",{attrs:{description:"Post-commit hook"}}):o("ListItemMeta",{attrs:{title:"Post-commit hook"}}),e._v(" "),o("template",{slot:"action"},[o("li",[o("span",{on:{click:function(t){e.ModalStudyRepHook("post_commit")}}},[e._v("介绍")])]),e._v(" "),o("li",[o("span",{on:{click:function(t){e.ModalEditRepHook("post_commit")}}},[e._v("编辑")])]),e._v(" "),o("li",[o("span",{on:{click:function(t){e.DelRepHook(e.formRepHooks.post_commit.fileName)}}},[e._v("移除")])])])],2),e._v(" "),o("Divider",{attrs:{orientation:"left",size:"small"}},[e._v("Locks")]),e._v(" "),o("ListItem",[e.formRepHooks.pre_lock.hasFile?o("ListItemMeta",{attrs:{description:"Pre-lock hook"}}):o("ListItemMeta",{attrs:{title:"Pre-lock hook"}}),e._v(" "),o("template",{slot:"action"},[o("li",[o("span",{on:{click:function(t){e.ModalStudyRepHook("pre_lock")}}},[e._v("介绍")])]),e._v(" "),o("li",[o("span",{on:{click:function(t){e.ModalEditRepHook("pre_lock")}}},[e._v("编辑")])]),e._v(" "),o("li",[o("span",{on:{click:function(t){e.DelRepHook(e.formRepHooks.pre_lock.fileName)}}},[e._v("移除")])])])],2),e._v(" "),o("ListItem",[e.formRepHooks.post_lock.hasFile?o("ListItemMeta",{attrs:{description:"Post-lock hook"}}):o("ListItemMeta",{attrs:{title:"Post-lock hook"}}),e._v(" "),o("template",{slot:"action"},[o("li",[o("span",{on:{click:function(t){e.ModalStudyRepHook("post_lock")}}},[e._v("介绍")])]),e._v(" "),o("li",[o("span",{on:{click:function(t){e.ModalEditRepHook("post_lock")}}},[e._v("编辑")])]),e._v(" "),o("li",[o("span",{on:{click:function(t){e.DelRepHook(e.formRepHooks.post_lock.fileName)}}},[e._v("移除")])])])],2),e._v(" "),o("ListItem",[e.formRepHooks.pre_unlock.hasFile?o("ListItemMeta",{attrs:{description:"Pre-unlock hook"}}):o("ListItemMeta",{attrs:{title:"Pre-unlock hook"}}),e._v(" "),o("template",{slot:"action"},[o("li",[o("span",{on:{click:function(t){e.ModalStudyRepHook("pre_unlock")}}},[e._v("介绍")])]),e._v(" "),o("li",[o("span",{on:{click:function(t){e.ModalEditRepHook("pre_unlock")}}},[e._v("编辑")])]),e._v(" "),o("li",[o("span",{on:{click:function(t){e.DelRepHook(e.formRepHooks.pre_unlock.fileName)}}},[e._v("移除")])])])],2),e._v(" "),o("ListItem",[e.formRepHooks.post_unlock.hasFile?o("ListItemMeta",{attrs:{description:"Post-unlock hook"}}):o("ListItemMeta",{attrs:{title:"Post-unlock hook"}}),e._v(" "),o("template",{slot:"action"},[o("li",[o("span",{on:{click:function(t){e.ModalStudyRepHook("post_unlock")}}},[e._v("介绍")])]),e._v(" "),o("li",[o("span",{on:{click:function(t){e.ModalEditRepHook("post_unlock")}}},[e._v("编辑")])]),e._v(" "),o("li",[o("span",{on:{click:function(t){e.DelRepHook(e.formRepHooks.post_unlock.fileName)}}},[e._v("移除")])])])],2),e._v(" "),o("Divider",{attrs:{orientation:"left",size:"small"}},[e._v("Revision property change")]),e._v(" "),o("ListItem",[e.formRepHooks.pre_revprop_change.hasFile?o("ListItemMeta",{attrs:{description:"Pre-reversion property change hook"}}):o("ListItemMeta",{attrs:{title:"Pre-reversion property change hook"}}),e._v(" "),o("template",{slot:"action"},[o("li",[o("span",{on:{click:function(t){e.ModalStudyRepHook("pre_revprop_change")}}},[e._v("介绍")])]),e._v(" "),o("li",[o("span",{on:{click:function(t){e.ModalEditRepHook("pre_revprop_change")}}},[e._v("编辑")])]),e._v(" "),o("li",[o("span",{on:{click:function(t){e.DelRepHook(e.formRepHooks.pre_revprop_change.fileName)}}},[e._v("移除")])])])],2),e._v(" "),o("ListItem",[e.formRepHooks.post_revprop_change.hasFile?o("ListItemMeta",{attrs:{description:"Post-reversion property change hook"}}):o("ListItemMeta",{attrs:{title:"Post-reversion property change hook"}}),e._v(" "),o("template",{slot:"action"},[o("li",[o("span",{on:{click:function(t){e.ModalStudyRepHook("post_revprop_change")}}},[e._v("介绍")])]),e._v(" "),o("li",[o("span",{on:{click:function(t){e.ModalEditRepHook("post_revprop_change")}}},[e._v("编辑")])]),e._v(" "),o("li",[o("span",{on:{click:function(t){e.DelRepHook(e.formRepHooks.post_revprop_change.fileName)}}},[e._v("移除")])])])],2)],1)],1)],1),e._v(" "),e.loadingGetRepHooks?o("Spin",{attrs:{size:"large",fix:""}}):e._e()],1),e._v(" "),o("TabPane",{attrs:{label:"常用钩子"}},[o("Alert",[e._v("如需将自己常用的钩子显示在此处"),o("br"),o("br"),e._v("\n          以新增 pre-commit 功能为例，操作步骤如下："),o("br"),o("br"),e._v("\n          1、在 /home/svnadmin/hooks/ 目录下创建任意名称的文件夹"),o("br"),e._v("\n          2、创建文件 hookDescription 并写入此钩子的主要功能描述"),o("br"),e._v("\n          3、创建文件 hookName 并写入钩子的类型 pre-commit"),o("br"),e._v("\n          4、创建文件 pre-commit 并写入钩子内容"),o("br")]),e._v(" "),o("Scroll",[o("List",{attrs:{border:!0}},e._l(e.recommendHooks,function(t,a){return o("ListItem",{key:a},[o("ListItemMeta",{attrs:{title:t.hookName,description:t.hookDescription}}),e._v(" "),o("template",{slot:"action"},[o("li",[o("span",{on:{click:function(o){e.ViewRecommendHook(t.hookName)}}},[e._v("查看")])])])],2)}))],1)],1)],1),e._v(" "),o("div",{attrs:{slot:"footer"},slot:"footer"},[o("Button",{attrs:{type:"primary",ghost:""},on:{click:function(t){e.modalRepHooks=!1}}},[e._v("取消")])],1)],1),e._v(" "),o("Modal",{attrs:{title:e.titleModalStudyRepHook},model:{value:e.modalStudyRepHook,callback:function(t){e.modalStudyRepHook=t},expression:"modalStudyRepHook"}},[o("Input",{attrs:{readonly:"",rows:15,"show-word-limit":"",type:"textarea"},model:{value:e.tempSelectRepHookTmpl,callback:function(t){e.tempSelectRepHookTmpl=t},expression:"tempSelectRepHookTmpl"}}),e._v(" "),o("div",{attrs:{slot:"footer"},slot:"footer"},[o("Button",{attrs:{type:"primary",ghost:""},on:{click:function(t){e.modalStudyRepHook=!1}}},[e._v("取消")])],1)],1),e._v(" "),o("Modal",{attrs:{title:"常用钩子"},model:{value:e.modalRecommendHook,callback:function(t){e.modalRecommendHook=t},expression:"modalRecommendHook"}},[o("Input",{attrs:{readonly:"",rows:15,"show-word-limit":"",type:"textarea"},model:{value:e.tempSelectRepHookRecommend,callback:function(t){e.tempSelectRepHookRecommend=t},expression:"tempSelectRepHookRecommend"}}),e._v(" "),o("div",{attrs:{slot:"footer"},slot:"footer"},[o("Button",{attrs:{type:"primary",ghost:""},on:{click:function(t){e.modalRecommendHook=!1}}},[e._v("取消")])],1)],1),e._v(" "),o("Modal",{attrs:{title:e.titleModalEditRepHook},model:{value:e.modalEditRepHook,callback:function(t){e.modalEditRepHook=t},expression:"modalEditRepHook"}},[o("Input",{attrs:{rows:15,"show-word-limit":"",type:"textarea",placeholder:"具体介绍和语法可看钩子介绍"},model:{value:e.tempSelectRepHookCon,callback:function(t){e.tempSelectRepHookCon=t},expression:"tempSelectRepHookCon"}}),e._v(" "),o("div",{attrs:{slot:"footer"},slot:"footer"},[o("Button",{attrs:{type:"primary",loading:e.loadingEditRepHook},on:{click:e.EditRepHook}},[e._v("应用")])],1)],1),e._v(" "),o("Modal",{attrs:{title:e.titleModalRepAdvance},model:{value:e.modalRepAdvance,callback:function(t){e.modalRepAdvance=t},expression:"modalRepAdvance"}},[o("Tabs",{attrs:{type:"card"}},[o("TabPane",{attrs:{label:"属性"}},[o("Table",{attrs:{"show-header":!1,columns:e.tableColumnRepDetail,data:e.tableDataRepDetail,loading:e.loadingRepDetail,size:"small",height:"350"},scopedSlots:e._u([{key:"copy",fn:function(t){var a=t.index;return[o("Button",{attrs:{icon:"md-copy",type:"text"},on:{click:function(t){e.CopyRepDetail(a)}}})]}},{key:"uuid",fn:function(t){var a=t.row;return"UUID"==a.repKey||"uuid"==a.repKey?[o("Button",{attrs:{type:"primary",size:"small"},on:{click:function(t){e.ModalSetUUID()}}},[e._v("重设")])]:void 0}}])})],1),e._v(" "),o("TabPane",{attrs:{label:"恢复"}},[o("Alert",[e._v("可以将通过svnadmin dump方式生成的备份文件导入到当前仓库")]),e._v(" "),o("Form",{attrs:{model:e.formRepImport,"label-width":100}},[o("FormItem",{attrs:{label:"备份文件位置"}},[o("RadioGroup",{attrs:{vertical:""},on:{"on-change":e.ChangeRadioUploadType},model:{value:e.formUploadBackup.selectType,callback:function(t){e.$set(e.formUploadBackup,"selectType",t)},expression:"formUploadBackup.selectType"}},[o("Radio",{attrs:{label:"1"}},[o("span",[e._v("从本地上传")])]),e._v(" "),o("Alert",{attrs:{type:"warning","show-icon":""}},[e._v("1、大文件建议通过FTP等方式上传"),o("br"),e._v("\n                2、PHP上传限制参数如下："),o("br"),o("br"),e._v("\n                file_uploads："+e._s(1==e.uploadLimit.file_uploads?"开启":"关闭")),o("br"),e._v("\n                upload_max_filesize："+e._s(e.uploadLimit.upload_max_filesize)),o("br"),e._v("\n                post_max_size："+e._s(e.uploadLimit.post_max_size)),o("br"),o("br"),e._v("\n                3、还要注意web服务器的限制"),o("br"),o("br"),e._v("\n                如Nginx需考虑 client_max_body_size 等参数\n              ")]),e._v(" "),o("Radio",{attrs:{label:"2"}},[o("span",[e._v("从服务器选择")])])],1)],1),e._v(" "),"1"==e.formUploadBackup.selectType?o("FormItem",[o("Upload",{attrs:{multiple:"","on-success":e.UploadSuccess,"before-upload":e.BeforeUpload,action:"/api.php?c=Svnrep&a=UploadBackup&t=web",name:"file",headers:{token:e.token}}},[o("Button",{attrs:{icon:"ios-cloud-upload-outline",loading:e.loadingUploadBackup}},[e._v("上传文件")])],1)],1):e._e(),e._v(" "),"2"==e.formUploadBackup.selectType?o("FormItem",{attrs:{label:"备份文件夹"}},[o("Table",{attrs:{height:"200",border:"","highlight-row":"",loading:e.loadingRepBackupList,columns:e.tableColumnBackup1,data:e.tableDataBackup,size:"small"},on:{"on-row-click":e.ClickRowUploadBackup}})],1):e._e(),e._v(" "),"2"==e.formUploadBackup.selectType?o("FormItem",{attrs:{label:"已选择"}},[o("Input",{attrs:{readonly:""},model:{value:e.formUploadBackup.fileName,callback:function(t){e.$set(e.formUploadBackup,"fileName",t)},expression:"formUploadBackup.fileName"}})],1):e._e(),e._v(" "),"2"==e.formUploadBackup.selectType?o("FormItem",{attrs:{label:"执行结果"}},[o("Input",{attrs:{readonly:"",type:"textarea",rows:4,placeholder:"如果导入失败 错误信息会显示在此处"},model:{value:e.formUploadBackup.errorInfo,callback:function(t){e.$set(e.formUploadBackup,"errorInfo",t)},expression:"formUploadBackup.errorInfo"}})],1):e._e(),e._v(" "),"2"==e.formUploadBackup.selectType?o("FormItem",[o("Alert",{attrs:{type:"warning","show-icon":""}},[e._v("不了解svnadmin\n              dump指令的用户建议将备份文件只导入到空仓库而不是已经包含修订版本的非空仓库")]),e._v(" "),o("Button",{attrs:{type:"primary",loading:e.loadingImportBackup,ghost:""},on:{click:e.ImportRep}},[e._v("导入")])],1):e._e()],1)],1)],1),e._v(" "),o("div",{attrs:{slot:"footer"},slot:"footer"},[o("Button",{attrs:{type:"primary",ghost:""},on:{click:function(t){e.modalRepAdvance=!1}}},[e._v("取消")])],1)],1),e._v(" "),o("Modal",{attrs:{title:e.titleModalEditRepName},model:{value:e.modalEditRepName,callback:function(t){e.modalEditRepName=t},expression:"modalEditRepName"}},[o("Form",{attrs:{model:e.formRepEdit,"label-width":80}},[o("FormItem",{attrs:{label:"仓库名称"}},[o("Input",{model:{value:e.formRepEdit.new_rep_name,callback:function(t){e.$set(e.formRepEdit,"new_rep_name",t)},expression:"formRepEdit.new_rep_name"}})],1),e._v(" "),o("FormItem",[o("Button",{attrs:{type:"primary",loading:e.loadingEditRepName},on:{click:e.EditRepName}},[e._v("确定")])],1)],1),e._v(" "),o("div",{attrs:{slot:"footer"},slot:"footer"},[o("Button",{attrs:{type:"primary",ghost:""},on:{click:function(t){e.modalEditRepName=!1}}},[e._v("取消")])],1)],1),e._v(" "),o("Modal",{attrs:{title:"选择SVN用户（添加的用户权限都会被重置为rw）",loading:e.loadingAddRepPathUserPri},on:{"on-ok":e.AddRepPathUserPri},model:{value:e.modalRepAllUser,callback:function(t){e.modalRepAllUser=t},expression:"modalRepAllUser"}},[o("Table",{attrs:{height:350,size:"small","highlight-row":"","show-header":!1,columns:e.tableColumnAllUser,data:e.tableDataAllUser,loading:e.loadingAllUserList},on:{"on-row-click":e.ClickRowAddRepPathUser},scopedSlots:e._u([{key:"disabled",fn:function(t){return[0==t.row.disabled?o("Tag",{attrs:{color:"blue"}},[e._v("正常")]):o("Tag",{attrs:{color:"red"}},[e._v("禁用")])]}}])})],1),e._v(" "),o("Modal",{attrs:{title:"选择SVN分组（添加的用户权限都会被重置为rw）",loading:e.loadingAddRepPathGroupPri},on:{"on-ok":e.AddRepPathGroupPri},model:{value:e.modalRepAllGroup,callback:function(t){e.modalRepAllGroup=t},expression:"modalRepAllGroup"}},[o("Table",{attrs:{height:"350","highlight-row":"","show-header":!1,columns:e.tableColumnAllGroup,data:e.tableDataAllGroup,loading:e.loadingAllGroupList},on:{"on-row-click":e.ClickRowAddRepPathGroup}})],1),e._v(" "),o("Modal",{attrs:{title:"重设仓库UUID"},model:{value:e.modalSetUUID,callback:function(t){e.modalSetUUID=t},expression:"modalSetUUID"}},[o("Form",{attrs:{"label-width":80}},[o("FormItem",{attrs:{label:"UUID"}},[o("Input",{attrs:{placeholder:"不填写则自动生成全新UUID"},model:{value:e.tempRepUUID,callback:function(t){e.tempRepUUID=t},expression:"tempRepUUID"}})],1),e._v(" "),o("FormItem",[o("Button",{attrs:{type:"primary",loading:e.loadingSetUUID},on:{click:e.SetUUID}},[e._v("确定")])],1)],1),e._v(" "),o("div",{attrs:{slot:"footer"},slot:"footer"},[o("Button",{attrs:{type:"primary",ghost:""},on:{click:function(t){e.modalSetUUID=!1}}},[e._v("取消")])],1)],1)],1)},staticRenderFns:[]},e.exports.render._withStripped=!0}});